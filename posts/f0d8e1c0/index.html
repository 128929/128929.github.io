<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Butterfly主题功能演示 | Tutu's Blog</title><meta name="author" content="tutu"><meta name="copyright" content="tutu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="这篇文章展示了Butterfly主题的各种Front-matter功能">
<meta property="og:type" content="article">
<meta property="og:title" content="Butterfly主题功能演示">
<meta property="og:url" content="https://128929.github.io/posts/f0d8e1c0/index.html">
<meta property="og:site_name" content="Tutu&#39;s Blog">
<meta property="og:description" content="这篇文章展示了Butterfly主题的各种Front-matter功能">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://128929.github.io/img/butterfly-cover.jpg">
<meta property="article:published_time" content="2025-08-24T04:00:00.000Z">
<meta property="article:modified_time" content="2025-08-24T07:00:00.000Z">
<meta property="article:author" content="tutu">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="Butterfly">
<meta property="article:tag" content="主题">
<meta property="article:tag" content="功能演示">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://128929.github.io/img/butterfly-cover.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Butterfly主题功能演示",
  "url": "https://128929.github.io/posts/f0d8e1c0/",
  "image": "https://128929.github.io/img/butterfly-cover.jpg",
  "datePublished": "2025-08-24T04:00:00.000Z",
  "dateModified": "2025-08-24T07:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Butterfly",
      "url": "https://butterfly.js.org"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://128929.github.io/posts/f0d8e1c0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#a29bfe"/><link rel="apple-touch-icon" sizes="180x180" href="/img/butterfly-icon.png"/><link rel="mask-icon" href="/img/butterfly-icon.png" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 22 || hour >= 6
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Butterfly主题功能演示',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"><link rel="stylesheet" href="/custom/css/code-theme.css"><link rel="stylesheet" href="/custom/css/responsive.css"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Tutu's Blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw fas fa-history"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/project"><i class="fa-fw iconfont icon-project"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/search/"><i class="fa-fw fas fa-search"></i><span> 搜索</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/butterfly-top.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "/img/loading.gif" data-lazy-src="/img/butterfly-icon.png" alt="Logo"><span class="site-name">Tutu's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Butterfly主题功能演示</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li><li><a class="site-page child" href="/timeline/"><i class="fa-fw fas fa-history"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/project"><i class="fa-fw iconfont icon-project"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/search/"><i class="fa-fw fas fa-search"></i><span> 搜索</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Butterfly主题功能演示</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-24T04:00:00.000Z" title="发表于 2025-08-24 12:00:00">2025-08-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-24T07:00:00.000Z" title="更新于 2025-08-24 15:00:00">2025-08-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">教程</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/Butterfly%E4%B8%BB%E9%A2%98/">Butterfly主题</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;本文最后更新于&quot;,&quot;messageNext&quot;:&quot;天前，文章内容可能已经过时。&quot;,&quot;postUpdate&quot;:&quot;2025-08-24 15:00:00&quot;}" hidden></div><h1 id="Butterfly主题功能演示"><a href="#Butterfly主题功能演示" class="headerlink" title="Butterfly主题功能演示"></a>Butterfly主题功能演示</h1><p>这篇文章将展示Butterfly主题的各种Front-matter功能和标签外挂，帮助你更好地使用这个主题。</p>
<span id="more"></span>

<h2 id="目录功能"><a href="#目录功能" class="headerlink" title="目录功能"></a>目录功能</h2><p>本文启用了目录功能，你可以在右侧看到文章的目录结构。</p>
<h2 id="标签外挂（Tag-Plugins）"><a href="#标签外挂（Tag-Plugins）" class="headerlink" title="标签外挂（Tag Plugins）"></a>标签外挂（Tag Plugins）</h2><h3 id="Note-标签"><a href="#Note-标签" class="headerlink" title="Note 标签"></a>Note 标签</h3><div class="note default simple"><p>默认 提示块标签</p>
</div>

<div class="note primary simple"><p>主要 提示块标签</p>
</div>

<div class="note success simple"><p>成功 提示块标签</p>
</div>

<div class="note info simple"><p>信息 提示块标签</p>
</div>

<div class="note warning simple"><p>警告 提示块标签</p>
</div>

<div class="note danger simple"><p>危险 提示块标签</p>
</div>

<h3 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h3><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">标签1</button><button type="button" class="tab">标签2</button><button type="button" class="tab">标签3</button></div><div class="tab-contents"><div class="tab-item-content active"><p>这是标签1的内容</p></div><div class="tab-item-content"><p>这是标签2的内容</p></div><div class="tab-item-content"><p>这是标签3的内容</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>

<h3 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h3><a class="btn-beautify outline larger" target="_blank" rel="noopener" href="https://butterfly.js.org/" title="Butterfly主题文档"><i class="far fa-hand-point-right"></i><span>Butterfly主题文档</span></a>

<a class="btn-beautify blue larger" target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/" title="Hexo官方文档"><i class="far fa-hand-point-right"></i><span>Hexo官方文档</span></a>

<h3 id="引用（Quote）"><a href="#引用（Quote）" class="headerlink" title="引用（Quote）"></a>引用（Quote）</h3><blockquote><p>我们必须学会互相宽容，这是自然法则。我们都是由许多缺点构成的，彼此都需要被宽恕。</p>
<footer><strong>牛顿</strong></footer></blockquote>

<h3 id="折叠框"><a href="#折叠框" class="headerlink" title="折叠框"></a>折叠框</h3><blockquote>
<p>注意：当前环境中folding标签可能存在兼容性问题，暂时移除该示例。</p>
</blockquote>
<h2 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h2><p>本文启用了MathJax，可以显示数学公式：</p>
<p>行内公式：$E&#x3D;mc^2$</p>
<p>行间公式：</p>
<p>$$\frac{\partial u}{\partial t} &#x3D; h^2 \left( \frac{\partial^2 u}{\partial x^2} + \frac{\partial^2 u}{\partial y^2} + \frac{\partial^2 u}{\partial z^2}\right)$$</p>
<h2 id="音乐播放"><a href="#音乐播放" class="headerlink" title="音乐播放"></a>音乐播放</h2><p>本文启用了aplayer，可以播放音乐：</p>
<!-- 音乐播放功能使用本地文件 -->

        <div id="aplayer-FblOOYJI" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
            <pre class="aplayer-lrc-content"></pre>
        </div>
        <script>
          var ap = new APlayer({
            element: document.getElementById("aplayer-FblOOYJI"),
            narrow: false,
            autoplay: false,
            showlrc: false,
            music: {
              title: "Butterfly",
              author: "Smile.dk",
              url: "/audio/butterfly.mp3",
              pic: "/img/butterfly.jpg",
              lrc: ""
            }
          });
          window.aplayers || (window.aplayers = []);
          window.aplayers.push(ap);
        </script>

<h3 id="音频文件本地托管指南"><a href="#音频文件本地托管指南" class="headerlink" title="音频文件本地托管指南"></a>音频文件本地托管指南</h3><ol>
<li><p>创建音频文件夹：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="built_in">source</span>/audio</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载音频文件到本地：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://files.catbox.moe/ducy49.mp3 -O <span class="built_in">source</span>/audio/butterfly.mp3</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果没有wget工具，可以手动下载后放入source&#x2F;audio目录</p>
</li>
<li><p>确保文件权限正确</p>
</li>
</ol>
<p>完成后，音频将从本地加载，避免外部链接失效问题。</p>
<h2 id="乐谱渲染"><a href="#乐谱渲染" class="headerlink" title="乐谱渲染"></a>乐谱渲染</h2><p>本文启用了abcjs，可以渲染乐谱（需要安装abcjs插件）：</p>
<!-- 乐谱渲染功能需要abcjs插件 -->
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">X:1</span><br><span class="line">T:Butterfly Theme</span><br><span class="line">M:4/4</span><br><span class="line">L:1/8</span><br><span class="line">K:C</span><br><span class="line">&quot;C&quot;C2 E2 G2 E2 | &quot;Am&quot;A2 C2 E2 C2 | &quot;F&quot;F2 A2 c2 A2 | &quot;G&quot;G2 B2 d2 B2 |</span><br></pre></td></tr></table></figure>

<h2 id="视频播放器"><a href="#视频播放器" class="headerlink" title="视频播放器"></a>视频播放器</h2><blockquote>
<p>注意：当前环境中video标签可能存在兼容性问题，暂时移除该示例。</p>
</blockquote>
<h2 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hello_world</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, Butterfly!&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">hello_world()</span><br></pre></td></tr></table></figure>

<h2 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h2><p>本文启用了文章过期提醒功能，如果文章超过365天未更新，将会显示提醒信息。</p>
<h2 id="文章版权信息"><a href="#文章版权信息" class="headerlink" title="文章版权信息"></a>文章版权信息</h2><p>本文启用了版权信息显示，在文章底部可以看到版权声明。</p>
<h2 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h2><p>本文设置了sticky: 1，表示这篇文章将会被置顶显示。</p>
<h2 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h2><div class="flink"><div class="flink-name">友情链接</div><div class="flink-desc">那些人，那些事</div><div class="flink-list">
      <div class="flink-list-item">
        <a href="https://hexo.io/zh-cn/" title="Hexo" target="_blank">
          <div class="flink-item-icon">
            <img class="no-lightbox" src= "/img/loading.gif" data-lazy-src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Hexo" />
          </div>
          <div class="flink-item-name">Hexo</div>
          <div class="flink-item-desc" title="快速、简洁且高效的博客框架">快速、简洁且高效的博客框架</div>
        </a>
      </div>
      <div class="flink-list-item">
        <a href="https://butterfly.js.org/" title="Butterfly" target="_blank">
          <div class="flink-item-icon">
            <img class="no-lightbox" src= "/img/loading.gif" data-lazy-src="https://butterfly.js.org/img/avatar.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Butterfly" />
          </div>
          <div class="flink-item-name">Butterfly</div>
          <div class="flink-item-desc" title="A Simple and Card UI Design theme for Hexo">A Simple and Card UI Design theme for Hexo</div>
        </a>
      </div></div></div>

<h2 id="时间轴"><a href="#时间轴" class="headerlink" title="时间轴"></a>时间轴</h2><div class="timeline "><div class='timeline-item headline'>
        <div class='timeline-item-title'>
          <div class='item-circle'><p>2023</p>
</div>
        </div>
      </div><div class='timeline-item'>
        <div class='timeline-item-title'>
          <div class='item-circle'><p>07-15</p>
</div>
        </div>
        <div class='timeline-item-content'><p>创建了这篇Butterfly主题功能特性演示文章</p>
</div>
      </div><div class='timeline-item'>
        <div class='timeline-item-title'>
          <div class='item-circle'><p>07-10</p>
</div>
        </div>
        <div class='timeline-item-content'><p>安装了Butterfly主题</p>
</div>
      </div><div class='timeline-item'>
        <div class='timeline-item-title'>
          <div class='item-circle'><p>07-01</p>
</div>
        </div>
        <div class='timeline-item-content'><p>开始学习Hexo博客搭建</p>
</div>
      </div></div>

<h2 id="Mermaid图表支持"><a href="#Mermaid图表支持" class="headerlink" title="Mermaid图表支持"></a>Mermaid图表支持</h2><p>本文启用了Mermaid图表功能，可以绘制各种流程图、时序图等：</p>
<div class="mermaid-wrap"><pre class="mermaid-src" hidden>
    sequenceDiagram
    participant 游客
    participant 博客
    游客-&gt;&gt;博客: 访问首页
    博客--&gt;&gt;游客: 返回首页内容
    游客-&gt;&gt;博客: 点击文章
    博客--&gt;&gt;游客: 返回文章内容
    游客-&gt;&gt;博客: 发表评论
    博客--&gt;&gt;游客: 评论成功
  </pre></div>

<div class="mermaid-wrap"><pre class="mermaid-src" hidden>
    flowchart TD
    A[开始] --&gt; B[安装Hexo]
    B --&gt; C[安装Butterfly主题]
    C --&gt; D[配置主题]
    D --&gt; E[创建文章]
    E --&gt; F[生成并部署]
    F --&gt; G[结束]
  </pre></div>

<h2 id="阅读模式优化"><a href="#阅读模式优化" class="headerlink" title="阅读模式优化"></a>阅读模式优化</h2><p>Butterfly主题提供了阅读模式优化，可以通过页面右下角的按钮切换阅读模式。主题配置中启用了以下优化：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 阅读模式优化</span></span><br><span class="line"><span class="attr">mask:</span></span><br><span class="line">  <span class="attr">header:</span> <span class="literal">true</span>  <span class="comment"># 为Header添加半透明遮罩</span></span><br><span class="line">  <span class="attr">footer:</span> <span class="literal">true</span>  <span class="comment"># 为Footer添加遮罩</span></span><br></pre></td></tr></table></figure>

<h2 id="随机友链"><a href="#随机友链" class="headerlink" title="随机友链"></a>随机友链</h2><p>我们在<code>source/_data/link.yml</code>中配置了随机友链功能，可以通过以下方式调用：</p>
<div class="flink"><div class="flink-name">随机友链</div><div class="flink-desc">随机展示的友情链接</div><div class="flink-list">
      <div class="flink-list-item">
        <a href="https://hexo.io/zh-cn/" title="Hexo" target="_blank">
          <div class="flink-item-icon">
            <img class="no-lightbox" src= "/img/loading.gif" data-lazy-src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Hexo" />
          </div>
          <div class="flink-item-name">Hexo</div>
          <div class="flink-item-desc" title="快速、简洁且高效的博客框架">快速、简洁且高效的博客框架</div>
        </a>
      </div>
      <div class="flink-list-item">
        <a href="https://butterfly.js.org/" title="Butterfly" target="_blank">
          <div class="flink-item-icon">
            <img class="no-lightbox" src= "/img/loading.gif" data-lazy-src="https://butterfly.js.org/img/avatar.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Butterfly" />
          </div>
          <div class="flink-item-name">Butterfly</div>
          <div class="flink-item-desc" title="A Simple and Card UI Design theme for Hexo">A Simple and Card UI Design theme for Hexo</div>
        </a>
      </div>
      <div class="flink-list-item">
        <a href="https://example.com" title="示例博客" target="_blank">
          <div class="flink-item-icon">
            <img class="no-lightbox" src= "/img/loading.gif" data-lazy-src="/img/placeholder.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="示例博客" />
          </div>
          <div class="flink-item-name">示例博客</div>
          <div class="flink-item-desc" title="这是一个示例博客">这是一个示例博客</div>
        </a>
      </div></div></div>

<h2 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h2><p>本文启用了Artalk评论系统，你可以在文章底部留下你的评论。配置如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 评论系统</span></span><br><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">artalk</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">artalk:</span></span><br><span class="line">    <span class="attr">server_url:</span> <span class="string">&quot;https://your-domain.com&quot;</span>  <span class="comment"># 需要替换为实际的服务器地址</span></span><br><span class="line">    <span class="attr">site:</span> <span class="string">blog</span></span><br><span class="line">    <span class="attr">comment:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">recent:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">recent_count:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>本文启用了字数统计功能，可以在页面底部查看文章的字数、阅读时间等信息。在文章Front-matter中添加：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h2><p>Butterfly主题支持响应式布局，在不同屏幕尺寸下都能提供良好的用户体验。当屏幕宽度&gt;2000px时，会自动增大内容区域。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>通过这篇文章，你可以了解到Butterfly主题的各种功能，包括标签外挂、数学公式、Mermaid图表、音乐播放器、评论系统等。希望对你有所帮助！更多功能请参考<a target="_blank" rel="noopener" href="https://butterfly.js.org/">官方文档</a>。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://butterfly.js.org">Butterfly</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/dc584b87/">https://butterfly.js.org/posts/dc584b87/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本文部分内容来自Butterfly官方文档，版权归原作者所有。</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/Butterfly/">Butterfly</a><a class="post-meta__tags" href="/tags/%E4%B8%BB%E9%A2%98/">主题</a><a class="post-meta__tags" href="/tags/%E5%8A%9F%E8%83%BD%E6%BC%94%E7%A4%BA/">功能演示</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-cover.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>如果你觉得这篇文章对你有帮助，不妨请我喝杯咖啡~</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><div class="ads-wrap">[object Object]</div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/d85c4342/" title="Butterfly主题标签外挂功能演示"><img class="cover" src= "/img/loading.gif" data-lazy-src="/img/placeholder.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Butterfly主题标签外挂功能演示</div></div><div class="info-2"><div class="info-item-1">Butterfly主题标签外挂功能演示本文将展示Butterfly主题中所有可用的标签外挂功能，包括使用方法和效果预览。 1. Note提示块预设样式示例默认提示块   主要提示块   成功提示块   信息提示块   警告提示块   危险提示块   带样式参数的示例现代化警告提示块   无图标扁平成功提示块   自定义样式示例蓝色信息提示块   Android系统提示   粉色爱心提示块   2. Gallery相册系统相册组示例                    自然风光       美丽的自然风景照片                                   城市建筑       现代城市的建筑风格                                   科技产品       最新的科技产品展示                  单相册示例     [{"url":"/img/placeholder.jpg","alt":"示例图片1","title":""},{"url":"/img/placeholder.jpg","alt":"示例图片2","...</div></div></div></a><a class="pagination-related" href="/posts/68534d0c/" title="Butterfly主题使用文档"><img class="cover" src= "/img/loading.gif" data-lazy-src="/img/placeholder.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Butterfly主题使用文档</div></div><div class="info-2"><div class="info-item-1">Butterfly主题使用文档一、快速开始1. 安装主题在Hexo根目录下执行以下命令安装主题： 12345# 稳定版（建议）git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly# 测试版（可能存在Bug）git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly  2. 应用主题修改Hexo根目录下的_config.yml文件，将主题设置为butterfly： 1theme: butterfly  3. 安装必要插件如果没有pug和stylus渲染器，需要安装： 1npm install hexo-renderer-pug hexo-renderer-stylus --save  4. 配置文件优先级建议在Hexo根目录创建_config.butterfly.yml文件，将主题目录下的_config.yml内容复制进去。Hexo会自动合并...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/68534d0c/" title="Butterfly主题使用文档"><img class="cover" src= "/img/loading.gif" data-lazy-src="/img/placeholder.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-24</div><div class="info-item-2">Butterfly主题使用文档</div></div><div class="info-2"><div class="info-item-1">Butterfly主题使用文档一、快速开始1. 安装主题在Hexo根目录下执行以下命令安装主题： 12345# 稳定版（建议）git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly# 测试版（可能存在Bug）git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly  2. 应用主题修改Hexo根目录下的_config.yml文件，将主题设置为butterfly： 1theme: butterfly  3. 安装必要插件如果没有pug和stylus渲染器，需要安装： 1npm install hexo-renderer-pug hexo-renderer-stylus --save  4. 配置文件优先级建议在Hexo根目录创建_config.butterfly.yml文件，将主题目录下的_config.yml内容复制进去。Hexo会自动合并...</div></div></div></a><a class="pagination-related" href="/posts/d85c4342/" title="Butterfly主题标签外挂功能演示"><img class="cover" src= "/img/loading.gif" data-lazy-src="/img/placeholder.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-24</div><div class="info-item-2">Butterfly主题标签外挂功能演示</div></div><div class="info-2"><div class="info-item-1">Butterfly主题标签外挂功能演示本文将展示Butterfly主题中所有可用的标签外挂功能，包括使用方法和效果预览。 1. Note提示块预设样式示例默认提示块   主要提示块   成功提示块   信息提示块   警告提示块   危险提示块   带样式参数的示例现代化警告提示块   无图标扁平成功提示块   自定义样式示例蓝色信息提示块   Android系统提示   粉色爱心提示块   2. Gallery相册系统相册组示例                    自然风光       美丽的自然风景照片                                   城市建筑       现代城市的建筑风格                                   科技产品       最新的科技产品展示                  单相册示例     [{"url":"/img/placeholder.jpg","alt":"示例图片1","title":""},{"url":"/img/placeholder.jpg","alt":"示例图片2","...</div></div></div></a><a class="pagination-related" href="/posts/4a17b156/" title="Hello World"><img class="cover" src= "/img/loading.gif" data-lazy-src="/img/404.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-23</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Hello HexoCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Butterfly%E4%B8%BB%E9%A2%98%E5%8A%9F%E8%83%BD%E6%BC%94%E7%A4%BA"><span class="toc-number">1.</span> <span class="toc-text">Butterfly主题功能演示</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.</span> <span class="toc-text">目录功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82%EF%BC%88Tag-Plugins%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">标签外挂（Tag Plugins）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Note-%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.1.</span> <span class="toc-text">Note 标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="toc-number">1.2.2.</span> <span class="toc-text">标签页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E9%92%AE"><span class="toc-number">1.2.3.</span> <span class="toc-text">按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%EF%BC%88Quote%EF%BC%89"><span class="toc-number">1.2.4.</span> <span class="toc-text">引用（Quote）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E5%8F%A0%E6%A1%86"><span class="toc-number">1.2.5.</span> <span class="toc-text">折叠框</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F"><span class="toc-number">1.3.</span> <span class="toc-text">数学公式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE"><span class="toc-number">1.4.</span> <span class="toc-text">音乐播放</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E6%9C%AC%E5%9C%B0%E6%89%98%E7%AE%A1%E6%8C%87%E5%8D%97"><span class="toc-number">1.4.1.</span> <span class="toc-text">音频文件本地托管指南</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%90%E8%B0%B1%E6%B8%B2%E6%9F%93"><span class="toc-number">1.5.</span> <span class="toc-text">乐谱渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-number">1.6.</span> <span class="toc-text">视频播放器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE"><span class="toc-number">1.7.</span> <span class="toc-text">代码高亮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E8%BF%87%E6%9C%9F%E6%8F%90%E9%86%92"><span class="toc-number">1.8.</span> <span class="toc-text">文章过期提醒</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%89%88%E6%9D%83%E4%BF%A1%E6%81%AF"><span class="toc-number">1.9.</span> <span class="toc-text">文章版权信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6"><span class="toc-number">1.10.</span> <span class="toc-text">文章置顶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><span class="toc-number">1.11.</span> <span class="toc-text">友情链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E8%BD%B4"><span class="toc-number">1.12.</span> <span class="toc-text">时间轴</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mermaid%E5%9B%BE%E8%A1%A8%E6%94%AF%E6%8C%81"><span class="toc-number">1.13.</span> <span class="toc-text">Mermaid图表支持</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F%E4%BC%98%E5%8C%96"><span class="toc-number">1.14.</span> <span class="toc-text">阅读模式优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E5%8F%8B%E9%93%BE"><span class="toc-number">1.15.</span> <span class="toc-text">随机友链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.16.</span> <span class="toc-text">评论系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">1.17.</span> <span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80"><span class="toc-number">1.18.</span> <span class="toc-text">响应式布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">1.19.</span> <span class="toc-text">结语</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: [object Object];"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By tutu</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">备案号：XXXXXXXX</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  let artalkItem = null
  const option = null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const destroyArtalk = () => {
    if (artalkItem) {
      artalkItem.destroy()
      artalkItem = null
    }
  }

  const artalkChangeMode = theme => artalkItem && artalkItem.setDarkMode(theme === 'dark')

  const initArtalk = (el = document, pageKey = location.pathname) => {
    artalkItem = Artalk.init({
      el: el.querySelector('#artalk-wrap'),
      server: '',
      site: '',
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      ...option,
      pageKey: isShuoshuo ? pageKey : (option && option.pageKey) || pageKey
    })

    if (GLOBAL_CONFIG.lightbox === 'null') return
    artalkItem.on('list-loaded', () => {
      artalkItem.ctx.get('list').getCommentNodes().forEach(comment => {
        const $content = comment.getRender().$content
        btf.loadLightbox($content.querySelectorAll('img:not([atk-emoticon])'))
      })
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyArtalk = () => {
        destroyArtalk()
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    btf.addGlobalFn('pjaxSendOnce', destroyArtalk, 'destroyArtalk')
    btf.addGlobalFn('themeChange', artalkChangeMode, 'artalk')
  }

  const loadArtalk = async (el, pageKey) => {
    if (typeof Artalk === 'object') initArtalk(el, pageKey)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/artalk/dist/Artalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/artalk/dist/Artalk.min.js')
      initArtalk(el, pageKey)
    }
  }

  if (isShuoshuo) {
    'Artalk' === 'Artalk'
      ? window.shuoshuoComment = { loadComment: loadArtalk }
      : window.loadOtherComment = loadArtalk
    return
  }

  if ('Artalk' === 'Artalk' || !false) {
    if (false) btf.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
    else setTimeout(loadArtalk, 100)
  } else {
    window.loadOtherComment = loadArtalk
  }
})()</script></div><script src="/custom/js/aplayer-init.js"></script><script src="/js/custom.js"></script><script>console.log('Hexo Butterfly Theme loaded successfully!')</script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script></div></body></html>
