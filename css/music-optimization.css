/* 
 * Music Page Optimization 
 * Implements 8pt grid, responsive design (320px-1920px), and accessibility fixes.
 */

:root {
  --grid-unit: 8px;
  --content-max-width: 1200px;
}

/* Scope styles to music page to avoid conflicts */
body.music-page #page {
  /* 1. Dimensions & Grid */
  width: 100%;
  max-width: 1920px; /* Max viewport width per requirement */
  margin: 0 auto;
  padding: 0 var(--grid-unit); /* Base padding */
  box-sizing: border-box;
  overflow-x: hidden; /* Prevent horizontal scroll */
}

/* 2. Responsive Layout (Mobile First) */
@media screen and (min-width: 320px) {
  body.music-page #page {
    padding: 0 calc(var(--grid-unit) * 2); /* 16px side padding */
  }
  
  body.music-page .container {
    width: 100%;
    margin: 0 auto;
  }
}

@media screen and (min-width: 768px) {
  body.music-page #page {
    padding: 0 calc(var(--grid-unit) * 4); /* 32px side padding */
  }
  
  body.music-page .container {
    max-width: 90%;
  }
}

@media screen and (min-width: 1200px) {
  body.music-page #page {
    padding: 0 calc(var(--grid-unit) * 6); /* 48px side padding */
  }
  
  body.music-page .container {
    max-width: var(--content-max-width);
  }
}

/* 3. Content Spacing (8pt Grid) */
body.music-page #article-container {
  display: flex;
  flex-direction: column;
  gap: calc(var(--grid-unit) * 3); /* 24px gap */
  padding-top: calc(var(--grid-unit) * 4); /* 32px top padding */
  padding-bottom: calc(var(--grid-unit) * 4); /* 32px bottom padding */
}

body.music-page h2 {
  margin-top: calc(var(--grid-unit) * 4);
  margin-bottom: calc(var(--grid-unit) * 2);
  font-size: 1.75rem;
  line-height: 1.3;
  position: relative;
  padding-left: calc(var(--grid-unit) * 2);
}

body.music-page h2::before {
  content: '';
  position: absolute;
  left: 0;
  top: 10%;
  height: 80%;
  width: 4px;
  background-color: #49B1F5; /* Theme color */
  border-radius: 2px;
}

/* 4. Accessibility & Focus Management */
body.music-page a:focus-visible,
body.music-page button:focus-visible,
body.music-page input:focus-visible {
  outline: 2px solid #49B1F5;
  outline-offset: 2px;
  border-radius: 2px;
}

/* Ensure sufficient contrast */
body.music-page {
  color: #333333; /* Contrast ratio > 4.5:1 on white */
}

[data-theme='dark'] body.music-page {
  color: #E0E0E0; /* Contrast ratio > 4.5:1 on dark */
}

/* 5. Optimized Media */
body.music-page img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Music Card Style */
.music-card {
  background: rgba(255, 255, 255, 0.5);
  border-radius: 12px;
  padding: calc(var(--grid-unit) * 2);
  border: 1px solid rgba(0, 0, 0, 0.05);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

[data-theme='dark'] .music-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.music-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

.music-info {
  margin-top: var(--grid-unit);
}

.music-title {
  font-size: 1.1rem;
  font-weight: bold;
  margin-bottom: calc(var(--grid-unit) / 2);
}

.music-meta {
  font-size: 0.9rem;
  color: #666;
}

[data-theme='dark'] .music-meta {
  color: #aaa;
}
